@import "tailwindcss";
@import "tw-animate-css";

/* ============================================
   MATERIAL 3 DESIGN TOKENS (Light Mode)
   ============================================ */
@theme inline {
  /* Light Mode Colors (Material 3) */
  --color-background: hsl(0 0% 98%);
  --color-foreground: hsl(0 0% 10%);
  
  /* Primary: Swiss Red (Core Brand) */
  --color-primary: hsl(0 72% 51%);
  --color-on-primary: hsl(0 0% 100%);
  --color-primary-container: hsl(0 100% 93%);
  --color-on-primary-container: hsl(0 72% 40%);
  
  /* Secondary: Neutral Gray */
  --color-secondary: hsl(0 0% 70%);
  --color-on-secondary: hsl(0 0% 100%);
  --color-secondary-container: hsl(0 0% 96%);
  --color-on-secondary-container: hsl(0 0% 30%);
  
  /* Tertiary: Cool accent (optional) */
  --color-tertiary: hsl(200 70% 50%);
  --color-on-tertiary: hsl(0 0% 100%);
  --color-tertiary-container: hsl(200 70% 90%);
  --color-on-tertiary-container: hsl(200 70% 35%);
  
  /* Surface & Text */
  --color-surface: hsl(0 0% 100%);
  --color-on-surface: hsl(0 0% 10%);
  --color-surface-variant: hsl(0 0% 90%);
  --color-on-surface-variant: hsl(0 0% 40%);
  
  /* Outline & Borders */
  --color-outline: hsl(0 0% 50%);
  --color-outline-variant: hsl(0 0% 80%);
  
  /* Error & Status */
  --color-error: hsl(3 90% 63%);
  --color-on-error: hsl(0 0% 100%);
  --color-error-container: hsl(3 100% 93%);
  --color-on-error-container: hsl(3 85% 52%);
  
  /* Semantic aliases for shadcn compatibility */
  --color-muted: hsl(0 0% 96%);
  --color-muted-foreground: hsl(0 0% 45%);
  --color-accent: hsl(200 70% 50%); /* Tertiary */
  --color-accent-foreground: hsl(0 0% 100%);
  --color-destructive: hsl(3 90% 63%);
  --color-destructive-foreground: hsl(0 0% 100%);
  --color-border: hsl(0 0% 88%);
  --color-input: hsl(0 0% 95%);
  --color-ring: hsl(0 72% 51%); /* Primary focus */
  
  /* Typography (Material 3 style) */
  --font-sans: 'Roboto', 'Inter', system-ui, sans-serif;
  --font-mono: 'Roboto Mono', 'Monaco', monospace;
  
  /* Corner Radius (Material 3: slightly rounded) */
  --radius: 0.75rem; /* 12px - Material 3 default */
  --radius-sm: 0.25rem; /* 4px */
  --radius-md: 0.5rem; /* 8px */
  --radius-lg: 1rem; /* 16px */
  --radius-xl: 1.5rem; /* 24px */
  --radius-2xl: 2rem; /* 32px */
  
  /* Shadow Elevations (Material 3) */
  --shadow-elevation-0: none;
  --shadow-elevation-1: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  --shadow-elevation-2: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  --shadow-elevation-3: 0 1px 3px rgba(0, 0, 0, 0.3), 0 3px 6px 3px rgba(0, 0, 0, 0.15);
  --shadow-elevation-4: 0 2px 3px rgba(0, 0, 0, 0.3), 0 6px 10px 4px rgba(0, 0, 0, 0.15);
  --shadow-elevation-5: 0 4px 4px rgba(0, 0, 0, 0.3), 0 8px 12px 6px rgba(0, 0, 0, 0.15);
  
  /* Motion Tokens (Material 3 - Ease curves) */
  --duration-short-1: 50ms;
  --duration-short-2: 100ms;
  --duration-short-3: 150ms;
  --duration-short-4: 200ms;
  --duration-medium-1: 250ms;
  --duration-medium-2: 300ms;
  --duration-medium-3: 350ms;
  --duration-medium-4: 400ms;
  --duration-long-1: 450ms;
  --duration-long-2: 500ms;
  --duration-long-3: 550ms;
  --duration-long-4: 600ms;
  
  /* Easing curves (Material 3) */
  --easing-linear: cubic-bezier(0, 0, 1, 1);
  --easing-standard: cubic-bezier(0.2, 0, 0, 1);
  --easing-standard-accelerate: cubic-bezier(0.3, 0, 1, 1);
  --easing-standard-decelerate: cubic-bezier(0, 0, 0.2, 1);
  --easing-emphasized: cubic-bezier(0.2, 0, 0, 1);
  --easing-emphasized-accelerate: cubic-bezier(0.3, 0, 0.8, 0.15);
  --easing-emphasized-decelerate: cubic-bezier(0.05, 0.7, 0.1, 1);
}

/* Dark Mode (via prefers-color-scheme) */
@supports (color: hsl(0 0% 0%)) {
  @media (prefers-color-scheme: dark) {
    @theme {
      /* Dark Mode Colors */
      --color-background: hsl(0 0% 6%);
      --color-foreground: hsl(0 0% 97%);
      
      --color-primary: hsl(0 72% 65%);
      --color-on-primary: hsl(0 90% 16%);
      --color-primary-container: hsl(0 90% 30%);
      --color-on-primary-container: hsl(0 100% 93%);
      
      --color-secondary: hsl(0 0% 80%);
      --color-on-secondary: hsl(0 0% 20%);
      --color-secondary-container: hsl(0 0% 35%);
      --color-on-secondary-container: hsl(0 0% 96%);
      
      --color-tertiary: hsl(200 70% 70%);
      --color-on-tertiary: hsl(200 70% 20%);
      --color-tertiary-container: hsl(200 70% 30%);
      --color-on-tertiary-container: hsl(200 70% 90%);
      
      --color-surface: hsl(0 0% 12%);
      --color-on-surface: hsl(0 0% 97%);
      --color-surface-variant: hsl(0 0% 30%);
      --color-on-surface-variant: hsl(0 0% 70%);
      
      --color-outline: hsl(0 0% 60%);
      --color-outline-variant: hsl(0 0% 35%);
      
      --color-error: hsl(3 90% 75%);
      --color-on-error: hsl(3 90% 16%);
      --color-error-container: hsl(3 85% 30%);
      --color-on-error-container: hsl(3 100% 93%);
      
      --color-muted: hsl(0 0% 25%);
      --color-muted-foreground: hsl(0 0% 65%);
      --color-accent: hsl(200 70% 65%);
      --color-accent-foreground: hsl(200 70% 10%);
      --color-border: hsl(0 0% 25%);
      --color-input: hsl(0 0% 20%);
      
      /* Shadow Elevations (Material 3 - Dark) */
      --shadow-elevation-0: none;
      --shadow-elevation-1: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
      --shadow-elevation-2: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
      --shadow-elevation-3: 0 1px 3px rgba(0, 0, 0, 0.3), 0 3px 6px 3px rgba(0, 0, 0, 0.15);
      --shadow-elevation-4: 0 2px 3px rgba(0, 0, 0, 0.3), 0 6px 10px 4px rgba(0, 0, 0, 0.15);
      --shadow-elevation-5: 0 4px 4px rgba(0, 0, 0, 0.3), 0 8px 12px 6px rgba(0, 0, 0, 0.15);
    }
  }
}

/* ============================================
   MATERIAL 3 ANIMATIONS & KEYFRAMES
   ============================================ */
@layer base {
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(8px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideOut {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(8px);
    }
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  @keyframes fadeOut {
    from {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
  }

  @keyframes scaleIn {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes scaleOut {
    from {
      opacity: 1;
      transform: scale(1);
    }
    to {
      opacity: 0;
      transform: scale(0.95);
    }
  }

  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  @keyframes pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }

  @keyframes ripple {
    0% {
      transform: scale(0);
      opacity: 0.5;
    }
    100% {
      transform: scale(4);
      opacity: 0;
    }
  }
}

@layer base {
  /* Global styles */
  * {
    @apply border-border;
  }
  
  html {
    /* Smooth color transitions for light/dark */
    color-scheme: light dark;
    scroll-behavior: smooth;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    transition: background-color 300ms var(--easing-standard-decelerate), 
                color 300ms var(--easing-standard-decelerate);
  }

  /* Typography Scale (Material 3) */
  h1 {
    @apply text-4xl font-bold leading-tight tracking-[-0.5px];
    /* Display Large */
  }

  h2 {
    @apply text-3xl font-semibold leading-snug tracking-normal;
    /* Headline Large */
  }

  h3 {
    @apply text-2xl font-semibold leading-snug;
    /* Headline Medium */
  }

  h4 {
    @apply text-lg font-semibold leading-normal;
    /* Headline Small */
  }

  h5 {
    @apply text-base font-semibold leading-normal;
    /* Title Large */
  }

  h6 {
    @apply text-sm font-semibold leading-normal;
    /* Title Medium */
  }

  /* Body text scales */
  p {
    @apply text-base leading-relaxed;
    /* Body Large */
  }

  small {
    @apply text-sm leading-normal;
    /* Body Small */
  }

  /* Link styling */
  a {
    @apply text-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-primary rounded transition-colors duration-200;
    &:hover {
      @apply opacity-80;
    }
  }

  /* Selection */
  ::selection {
    @apply bg-primary/20 text-inherit;
  }

  /* Focus visible (accessibility) */
  :focus-visible {
    @apply outline-2 outline-offset-2 outline-primary;
  }

  /* Form elements base styling */
  input,
  textarea,
  select {
    @apply rounded-md border border-input bg-surface text-foreground transition-all duration-200;
    &:focus {
      @apply border-primary outline-none ring-1 ring-primary/30;
    }
  }

  button {
    @apply transition-all duration-200;
  }
}

/* ============================================
   MATERIAL 3 COMPONENT UTILITIES
   ============================================ */
@layer utilities {
  /* Elevation/Shadow system (Material 3) */
  .shadow-elevation-0 {
    box-shadow: none;
  }

  .shadow-elevation-1 {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  }

  .shadow-elevation-2 {
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  }

  .shadow-elevation-3 {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 3px 6px 3px rgba(0, 0, 0, 0.15);
  }

  .shadow-elevation-4 {
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 6px 10px 4px rgba(0, 0, 0, 0.15);
  }

  .shadow-elevation-5 {
    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.3), 0 8px 12px 6px rgba(0, 0, 0, 0.15);
  }

  /* Utility variants for hover states with smooth transitions */
  .hover\:shadow-elevation-1:hover {
    @apply transition-all duration-300;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 1px 3px 1px rgba(0, 0, 0, 0.15);
  }

  .hover\:shadow-elevation-2:hover {
    @apply transition-all duration-300;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3), 0 2px 6px 2px rgba(0, 0, 0, 0.15);
  }

  .hover\:shadow-elevation-3:hover {
    @apply transition-all duration-300;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 3px 6px 3px rgba(0, 0, 0, 0.15);
  }

  .hover\:shadow-elevation-4:hover {
    @apply transition-all duration-300;
    box-shadow: 0 2px 3px rgba(0, 0, 0, 0.3), 0 6px 10px 4px rgba(0, 0, 0, 0.15);
  }

  .hover\:shadow-elevation-5:hover {
    @apply transition-all duration-300;
    box-shadow: 0 4px 4px rgba(0, 0, 0, 0.3), 0 8px 12px 6px rgba(0, 0, 0, 0.15);
  }

  /* Text scaling utilities */
  .text-display-large {
    @apply text-5xl font-bold tracking-[-1px] leading-[3.5rem];
  }

  .text-display-medium {
    @apply text-4xl font-bold tracking-normal leading-[2.5rem];
  }

  .text-display-small {
    @apply text-3xl font-bold tracking-normal leading-[2.5rem];
  }

  .text-headline-large {
    @apply text-3xl font-bold tracking-normal leading-[2.5rem];
  }

  .text-headline-medium {
    @apply text-2xl font-bold tracking-normal leading-[2rem];
  }

  .text-headline-small {
    @apply text-xl font-bold tracking-normal leading-[1.75rem];
  }

  .text-title-large {
    @apply text-lg font-bold tracking-normal leading-[1.75rem];
  }

  .text-title-medium {
    @apply text-base font-semibold tracking-[0.15px] leading-[1.5rem];
  }

  .text-title-small {
    @apply text-sm font-semibold tracking-[0.1px] leading-[1.25rem];
  }

  .text-body-large {
    @apply text-base tracking-[0.15px] leading-[1.5rem];
  }

  .text-body-medium {
    @apply text-sm tracking-[0.25px] leading-[1.25rem];
  }

  .text-body-small {
    @apply text-xs tracking-[0.4px] leading-[1rem];
  }

  .text-label-large {
    @apply text-sm font-semibold tracking-[0.1px] leading-[1.25rem];
  }

  .text-label-medium {
    @apply text-xs font-semibold tracking-[0.5px] leading-[1rem];
  }

  .text-label-small {
    @apply text-xs font-semibold tracking-[0.5px] leading-[1rem];
  }

  /* Interactive state helpers with Material Motion */
  .hover-lift {
    @apply transition-all duration-300 hover:shadow-elevation-3 hover:-translate-y-1;
  }

  .hover-lift-sm {
    @apply transition-all duration-300 hover:shadow-elevation-2 hover:-translate-y-0.5;
  }

  /* State layer (ripple effect simulation) */
  .state-layer {
    @apply relative before:absolute before:inset-0 before:bg-current before:opacity-0 transition-all duration-200;
    border-radius: inherit;
    
    &::before {
      border-radius: inherit;
    }
    
    &:hover::before {
      @apply opacity-8;
    }
    &:active::before {
      @apply opacity-12;
    }
  }

  /* Animation utilities */
  .animate-slide-in {
    animation: slideIn 300ms var(--easing-standard-decelerate) forwards;
  }

  .animate-slide-out {
    animation: slideOut 300ms var(--easing-standard-accelerate) forwards;
  }

  .animate-fade-in {
    animation: fadeIn 300ms var(--easing-standard-decelerate) forwards;
  }

  .animate-fade-out {
    animation: fadeOut 300ms var(--easing-standard-accelerate) forwards;
  }

  .animate-scale-in {
    animation: scaleIn 300ms var(--easing-standard-decelerate) forwards;
  }

  .animate-scale-out {
    animation: scaleOut 300ms var(--easing-standard-accelerate) forwards;
  }

  .animate-shimmer {
    animation: shimmer 2s infinite;
    background: linear-gradient(
      90deg,
      hsl(0 0% 90%),
      hsl(0 0% 97%),
      hsl(0 0% 90%)
    );
    background-size: 200px 100%;
  }

  .animate-pulse-soft {
    animation: pulse 2s var(--easing-standard) infinite;
  }

  .animate-ripple {
    animation: ripple 600ms ease-out;
  }

  /* Accessibility helpers */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Touch target minimum (48x48 for accessibility) */
  .touch-target {
    @apply p-3 rounded-full;
    min-width: 48px;
    min-height: 48px;
  }

  /* Smooth transitions for responsive breakpoints */
  .transition-all-motion {
    @apply transition-all;
    transition-duration: var(--duration-medium-2);
    transition-timing-function: var(--easing-standard);
  }

  /* Reduced motion support */
  @media (prefers-reduced-motion: reduce) {
    * {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ============================================
   ADDITIONAL COMPONENT UTILITIES
   ============================================ */
@layer components {
  /* Gradient backgrounds (Google style) */
  .gradient-primary {
    @apply bg-gradient-to-br from-primary to-primary/80;
  }

  .gradient-primary-subtle {
    @apply bg-gradient-to-br from-primary-container to-primary-container/60;
  }

  .gradient-glass {
    @apply bg-white/30 backdrop-blur-md border border-white/20;
  }

  @media (prefers-color-scheme: dark) {
    .gradient-glass {
      @apply bg-white/10 backdrop-blur-md border border-white/10;
    }
  }

  .card-interactive {
    @apply bg-surface border border-outline-variant rounded-lg shadow-elevation-1 transition-all duration-300 hover:shadow-elevation-2 hover:-translate-y-0.5 cursor-pointer;
  }
}
